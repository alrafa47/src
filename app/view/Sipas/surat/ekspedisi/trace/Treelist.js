/*
 * File: app/view/Sipas/surat/ekspedisi/trace/Treelist.js
 *
 * This file was generated by Sencha Architect version 3.5.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('SIPAS.view.Sipas.surat.ekspedisi.trace.Treelist', {
    extend: 'Ext.tree.Panel',
    alias: 'widget.sipas_surat_ekspedisi_trace_treelist',

    requires: [
        'Ext.tree.View',
        'Ext.tree.Column'
    ],

    border: 0,
    title: 'Referensi Perintah dan Tindakan Disposisi',
    columnLines: false,
    rowLines: true,
    store: 'Sipas.surat.ekspedisi.trace.Treelist',

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            viewConfig: {

            },
            columns: [
                {
                    xtype: 'treecolumn',
                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
                        if(record.isRoot()){
                            record.set('iconCls','icon ion-md-add-circle green-700-i');
                            return "";
                        }

                        if(record.isDisposisiMasuk()){
                            record.set('iconCls','icon ion-md-person blue-700-i');
                            return (new Ext.Template([
                            "{disposisi_masuk_penerima_nama} ",
                            "<span class='alternative'>({disposisi_masuk_penerima_unit_nama})</span>"
                            ])).apply(record.get('disposisi_masuk_record'));
                        }

                        if(record.isDisposisi()){
                            record.set('iconCls','icon ion-md-clipboard green-700-i');
                            return (new Ext.Template([
                            "<span style='color:#379EF7;font-weight:bold;'>{disposisi_tgl:date('d-m-Y H:i')}</span>"
                            ])).apply(record.get('disposisi_record'));
                        }
                    },
                    minWidth: 400,
                    dataIndex: 'disposisi_masuk_penerima_nama',
                    menuDisabled: true,
                    text: 'Alur Surat',
                    flex: 2
                },
                {
                    xtype: 'gridcolumn',
                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
                        if(record.isRoot()) return "";

                        if(record.isDisposisi()){
                            var data = record.get('disposisi_record') || {};
                            return [
                            Ext.Date.format(new Date(data.disposisi_tgl), 'd M Y H:i')
                            ].join('');
                        }

                        return "";
                    },
                    align: 'center',
                    dataIndex: 'disposisi_tgl',
                    menuDisabled: true,
                    text: 'Tanggal'
                },
                {
                    xtype: 'gridcolumn',
                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
                        if(record.isRoot()) return "";

                        if(record.isDisposisi()){
                            var data = record.get('disposisi_record');
                            return [
                            Ext.isEmpty(data.perintah_nama) ? '': data.perintah_nama
                            ].join('');
                        }

                        return "";

                    },
                    minWidth: 200,
                    width: 200,
                    dataIndex: 'perintah_nama',
                    text: 'Perintah'
                },
                {
                    xtype: 'gridcolumn',
                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
                        if(record.isRoot()) return "";

                        if(record.isDisposisiPenerima()){
                            var recdata = record.get('disposisi_masuk_record'),
                                valdata = recdata && parseInt(recdata.disposisi_masuk_status);
                            switch(valdata){
                            }
                        }

                        return "";
                    },
                    minWidth: 120,
                    dataIndex: 'disposisi_masuk_status',
                    text: 'Status'
                },
                {
                    xtype: 'gridcolumn',
                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
                        if(record.isRoot()) return "";

                        if(record.isDisposisiPenerima()){
                            var data = record.get('disposisi_masuk_record');
                            return [
                            Ext.isEmpty(data.aksi_nama) ? '': data.aksi_nama
                            ].join('');
                        }

                        return "";

                    },
                    minWidth: 200,
                    width: 200,
                    dataIndex: 'aksi_nama',
                    text: 'Tindakan'
                }
            ]
        });

        me.callParent(arguments);
    }

});