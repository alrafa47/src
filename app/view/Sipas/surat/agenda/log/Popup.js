/*
 * File: app/view/Sipas/surat/agenda/log/Popup.js
 *
 * This file was generated by Sencha Architect version 3.5.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('SIPAS.view.Sipas.surat.agenda.log.Popup', {
    extend: 'Ext.window.Window',
    alias: 'widget.sipas_surat_agenda_log_popup',

    requires: [
        'Ext.form.Panel',
        'Ext.grid.Panel',
        'Ext.grid.column.Column'
    ],

    height: 400,
    width: 700,
    layout: 'fit',
    title: 'Log Aktivitas Surat',
    maximizable: true,
    modal: true,

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'form',
                    border: false,
                    autoScroll: true,
                    layout: 'fit',
                    frameHeader: false,
                    header: false,
                    title: 'My Form',
                    items: [
                        {
                            xtype: 'gridpanel',
                            associated: true,
                            border: false,
                            itemId: 'listLog',
                            header: false,
                            title: 'My Grid Panel',
                            disableSelection: true,
                            hideHeaders: true,
                            store: 'Sipas.surat.agenda.log.Popup',
                            columns: [
                                {
                                    xtype: 'gridcolumn',
                                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {

                                        modelStaf = Ext.ModelManager.getModel('SIPAS.model.Sipas.Staf');
                                        return '<div class="margin-left-8">'+modelStaf.renderPegawai(value, record)+'</div>';
                                    },
                                    dataIndex: 'jabatan_nama',
                                    text: 'ID',
                                    flex: 1
                                },
                                {
                                    xtype: 'gridcolumn',
                                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
                                        var issetuju = record.get('surat_log_setuju'),
                                            model = record.get('surat_model'),
                                            model_sub = record.get('surat_model_sub'),
                                            catatan = record.get('surat_log_catatan'),
                                            ekspedisi = record.get('ekspedisi_nama'),
                                            tgl = Ext.util.Format.date(record.get('surat_log_tgl'), 'd M Y H:i'),
                                            tipe = record.get('surat_log_tipe'),
                                            uraian = '',
                                            setuju_color = '',
                                            setuju_icon = '',
                                            setuju = '',
                                            penyetujuKet = '',
                                            tpl = new Ext.Template([
                                            '<div class="margin-left-8"><div class="cell-text">',
                                            '<div class="subtext {color}">',
                                            '<span class="badge badge-solid margin-right-4">',
                                            '<i class="{icon}"></i>',
                                            '</span> {word}',
                                            '</div>',
                                            '<div class="supporttext supporttext-dark">{uraian}</div>',
                                            '<div class="supporttext supporttext-dark">Pada '+tgl+'</div>',
                                            '</div></div>'
                                            ]);

                                        if(catatan){
                                            uraian = catatan;
                                        }else{
                                            uraian = '<span class="alternative">(Tidak Ada Komentar)</span>';
                                        }

                                        if(issetuju == '2'){
                                            setuju_color = 'info';
                                            setuju_icon = 'icon ion-md-checkmark green-700-i';
                                            if(model == '3'){
                                                setuju = 'Diterima';
                                            }else{
                                                setuju = 'Disetujui';
                                            }
                                        }else if(issetuju == '4'){
                                            setuju_color = 'danger';
                                            setuju_icon = 'icon ion-md-create red-700-i';
                                            if(model == '3'){
                                                setuju = 'Ditolak';
                                            }else{
                                                setuju = 'Status Diubah Menjadi Revisi';
                                            }
                                        }

                                        if(model == 6 && model_sub == 2) {
                                            penyetujuKet = ' Kolektif ';
                                        }

                                        switch(tipe){
                                            default:
                                            case 1:
                                            return tpl.apply({
                                                color: 'info',
                                                icon: 'icon ion-md-add-circle green-700-i',
                                                word: 'Dibuat'
                                            });
                                            case 2:
                                            return tpl.apply({
                                                color: 'warning',
                                                icon: 'icon ion-md-list-box amber-700-i',
                                                word: 'Simpan Draf'
                                            });
                                            case 3:
                                            return tpl.apply({
                                                color: 'warning',
                                                icon: 'icon ion-md-save amber-700-i',
                                                word: 'Simpan dan Kirim'
                                            });
                                            case 4:
                                            return tpl.apply({
                                                color: 'warning',
                                                icon: 'icon ion-md-list-box amber-700-i',
                                                word: 'Kirim dan Setujui'
                                            });
                                            case 5:
                                            return tpl.apply({
                                                color: setuju_color,
                                                icon: setuju_icon,
                                                word: setuju + penyetujuKet
                                            });
                                            case 6:
                                            return tpl.apply({
                                                color: 'warning',
                                                icon: 'icon ion-md-list-box amber-700-i',
                                                word: 'Beri Nomor'
                                            });
                                            case 7:
                                            return tpl.apply({
                                                color: 'info',
                                                icon: 'icon ion-md-send green-700-i',
                                                word: 'Didistribusikan'
                                            });
                                            case 8:
                                            return tpl.apply({
                                                color: 'info',
                                                icon: 'icon ion-md-checkmark green-700-i',
                                                word: 'Selesai'
                                            });
                                            case 9:
                                            return tpl.apply({
                                                color: '',
                                                icon: 'icon ion-md-cube brown-700-i',
                                                word: 'Memperbarui Ekspedisi Menjadi "'+ ekspedisi+'"',
                                                uraian: uraian
                                            });
                                            case 10:
                                            return tpl.apply({
                                                color: 'warning',
                                                icon: 'icon ion-md-checkmark amber-700-i',
                                                word: penyetujuKet + 'Ubah Surat Lewat Koreksi</div>'
                                            });
                                            case 11:
                                            return tpl.apply({
                                                color: 'warning',
                                                icon: 'icon ion-md-locate amber-700-i',
                                                word: 'Atur Lokasi'
                                            });
                                            case 12:
                                            return tpl.apply({
                                                color: 'dark',
                                                icon: 'icon ion-md-calendar dark-700-i',
                                                word: 'Perpanjang Masa Aktif'
                                            });
                                            case 13:
                                            return tpl.apply({
                                                color: 'secondary',
                                                icon: 'icon ion-md-link grey-700-i',
                                                word: 'Atur Korespondensi'
                                            });
                                            case 14:
                                            return tpl.apply({
                                                color: 'secondary',
                                                icon: 'icon ion-md-paper-plane grey-700-i',
                                                word: 'Balas Surat'
                                            });
                                            case 15:
                                            return tpl.apply({
                                                color: 'secondary',
                                                icon: 'icon ion-md-swap grey-700-i" grey-700-i',
                                                word: 'Transfer Surat'
                                            });
                                            case 16:
                                            return tpl.apply({
                                                color: 'danger',
                                                icon: 'icon ion-md-trash red-700-i',
                                                word: 'Hapus Surat'
                                            });
                                            case 17:
                                            return tpl.apply({
                                                color: 'warning',
                                                icon: 'icon ion-md-star-half amber-700-i',
                                                word: 'Pemberian Rating'
                                            });
                                            case 18:
                                            return tpl.apply({
                                                color: 'info',
                                                icon: 'icon ion-md-checkmark-circle-outline green-700-i',
                                                word: 'Diterima'
                                            });
                                            case 19:
                                            return tpl.apply({
                                                color: 'danger',
                                                icon: 'icon ion-md-close-circle-outline red-700-i',
                                                word: 'Ditolak'
                                            });
                                            case 20:
                                            return tpl.apply({
                                                color: 'danger',
                                                icon: 'icon ion-md-close-circle-outline red-700-i',
                                                word: 'Surat Dibatalkan'
                                            });
                                            case 21:
                                            return tpl.apply({
                                                color: 'info',
                                                icon: 'icon ion-md-copy green-700-i',
                                                word: 'Nomor Surat Dipindahkan'
                                            });
                                            case 22:
                                            return tpl.apply({
                                                color: 'danger',
                                                icon: 'icon ion-md-filing red-700-i',
                                                word: 'Musnah Surat'
                                            });
                                            case 23:
                                            return tpl.apply({
                                                color: 'warning',
                                                icon: 'icon ion-md-filing yellow-700-i',
                                                word: 'Arsip Surat'
                                            });
                                            case 24:
                                            return tpl.apply({
                                                color: 'danger',
                                                icon: 'icon ion-md-close-circle-outline red-700-i',
                                                word: 'Distribusi Dibatalkan',
                                                uraian: uraian
                                            });
                                            case 25:
                                            return tpl.apply({
                                                color: 'info',
                                                icon: 'icon ion-md-copy green-700-i',
                                                word: 'Mengirim Berkas Fisik'
                                                //             uraian: uraian
                                            });
                                            case 26:
                                            return tpl.apply({
                                                color: 'danger',
                                                icon: 'icon ion-md-copy red-700-i',
                                                word: 'Menolak Berkas Fisik',
                                                uraian: uraian
                                            });
                                            case 27:
                                            return tpl.apply({
                                                color: setuju_color,
                                                icon: setuju_icon,
                                                word: setuju + ' Petikan'
                                            });
                                            case 28:
                                            return tpl.apply({
                                                color: 'warning',
                                                icon: 'icon ion-md-checkmark amber-700-i',
                                                word: 'Petikan Ubah Surat Lewat Koreksi</div>'
                                            });
                                            case 29:
                                            return tpl.apply({
                                                color: 'warning',
                                                icon: 'icon ion-md-list-box amber-700-i',
                                                word: 'Simpan'
                                            });
                                            case 30:
                                            return tpl.apply({
                                                color: 'info',
                                                icon: 'icon ion-md-send green-700-i',
                                                word: 'Simpan dan Didistribusikan'
                                            });
                                        }
                                    },
                                    dataIndex: 'penerima_nama',
                                    text: 'Nama',
                                    flex: 1
                                }
                            ]
                        }
                    ]
                }
            ]
        });

        me.callParent(arguments);
    }

});