/*
 * File: app/view/Sipas/com/reportfilter/korespondensi/filter.js
 *
 * This file was generated by Sencha Architect version 3.5.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('SIPAS.view.Sipas.com.reportfilter.korespondensi.filter', {
    extend: 'Ext.form.FieldContainer',
    alias: 'widget.sipas_com_reportfilter_korespondensi_filter',

    requires: [
        'SIPAS.view.Sipas.com.button.Minus',
        'Ext.form.field.ComboBox',
        'Ext.button.Button'
    ],

    filterDate: 'Pada Tanggal',
    filterYear: 'Pada Tahun',
    filterMonth: 'Pada Bulan',
    filterDateRange: 'Rentang Tanggal',
    filterAfterDate: 'Setelah Tanggal',
    filterBeforeDate: 'Sebelum Tanggal',
    fieldLabel: '',

    layout: {
        type: 'hbox',
        align: 'stretch'
    },

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'combobox',
                    flex: 1,
                    itemId: 'comboInstansi',
                    labelWidth: 60,
                    name: 'template_contact',
                    emptyText: 'Pilih Instansi',
                    anyMatch: true,
                    displayField: 'surat_unit',
                    forceSelection: true,
                    queryMode: 'local',
                    store: 'Sipas.surat.unit.Combo',
                    valueField: 'surat_unit',
                    listeners: {
                        select: {
                            fn: me.onComboInstansiSelect,
                            scope: me
                        }
                    }
                },
                {
                    xtype: 'combobox',
                    flex: 1,
                    disabled: true,
                    itemId: 'comboFilter',
                    hideLabel: true,
                    emptyText: 'Masukkan Perihal Surat',
                    anyMatch: true,
                    displayField: 'korespondensi_perihal',
                    queryMode: 'local',
                    store: 'Sipas.korespondensi.perihal.Combo',
                    valueField: 'korespondensi_perihal'
                },
                {
                    xtype: 'sipas_com_button_minus',
                    ui: 'default-toolbar',
                    listeners: {
                        click: {
                            fn: me.onButtonClick,
                            scope: me
                        }
                    }
                },
                {
                    xtype: 'button',
                    flex: 1,
                    itemId: 'buttonProcess',
                    text: '<b>PROSES</b>'
                }
            ]
        });

        me.callParent(arguments);
    },

    onComboInstansiSelect: function(combo, records, eOpts) {
        var container = this,
            comboFilter = container.down('#comboFilter'),
            instansiVal = combo.getValue();

        if(instansiVal) comboFilter.setDisabled(false);
        else comboFilter.setDisabled(true);
    },

    onButtonClick: function(button, e, eOpts) {
        var comboIns = this.down('#comboInstansi'),
            comboFilter = this.down('#comboFilter');

        comboIns.setValue(null);
        comboFilter.setValue(null);
        comboFilter.setDisabled(true)
    }

});